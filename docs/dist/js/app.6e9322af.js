(function(t){function a(a){for(var n,o,i=a[0],c=a[1],l=a[2],d=0,m=[];d<i.length;d++)o=i[d],r[o]&&m.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(a);while(m.length)m.shift()();return s.push.apply(s,l||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],n=!0,i=1;i<e.length;i++){var c=e[i];0!==r[c]&&(n=!1)}n&&(s.splice(a--,1),t=o(o.s=e[0]))}return t}var n={},r={app:0},s=[];function o(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)o.d(e,n,function(a){return t[a]}.bind(null,n));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=a,i=i.slice();for(var l=0;l<i.length;l++)a(i[l]);var u=c;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);var n=e("a026"),r=e("8a03"),s=e.n(r),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("auttar-title"),e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("auttar-tabs",{model:{value:t.selectedTab,callback:function(a){t.selectedTab=a},expression:"selectedTab"}}),e(t.tabComponent,{tag:"component",attrs:{transactions:t.transactions,messages:t.messages},on:{start:t.start,reset:t.reset,finish:t.finish,cancel:t.cancel,"request-cancel":t.requestCancel},model:{value:t.settings,callback:function(a){t.settings=a},expression:"settings"}})],1),e("div",{staticClass:"column"},[e("auttar-result",{model:{value:t.messages,callback:function(a){t.messages=a},expression:"messages"}})],1)])])]),e("auttar-footer")],1)},i=[],c=(e("d946"),e("cebc")),l=e("0a0d"),u=e.n(l),d=e("75fc"),m=e("a745"),f=e.n(m),h=e("a4bb"),g=e.n(h),v=e("7618"),p=e("59ad"),b=e.n(p),_=e("5176"),C=e.n(_),T=(e("67c8"),e("d225")),y=e("b0b4"),x=e("f499"),w=e.n(x),I=e("795b"),S=e.n(I),j=(e("20a4"),e("6ac6"),"%c Auttar "),$="background:#bc0909 ; padding: 2px; border-radius: 2px;  color: #fff ";function E(t){console.log(j,$,t)}var k={transactions:{credit:{base:112,installment:113,installmentWithInterest:114},debit:{base:101,voucher:106},cancel:128,confirm:6,requestCancel:191},return:{success:0,timeOut:1,notAuthorizes:5,internetError:10,intertefError:12,error:20,ecommerceError:30},errorCodes:{5300:"Valor não informado",5301:"Cartão inválido",5302:"Cartão vencido",5303:"Data de vencimento inválido",5304:"Código de segurança inválido",5305:"Taxa de serviço excede limite",5306:"Operação não permitida",5307:"Dados inválidos",5308:"Valor mínimo da parcela inválido",5309:"Número de parcelas inválido",5310:"Número de parcelas excede limite",5311:"Valor da entrada maior ou igual ao valor da transação",5312:"Valor da parcela inválido",5313:"Data inválida",5314:"Prazo excede limite",5316:"NSU inválido",5317:"Operação cancelada pelo usuário",5318:"Documento inválido (CPF ou CNPJ)",5319:"Valor do documento inválido",5328:"Erro na captura de dados do Pin-Pad",5329:"Erro na captura do chip ou cartão removido antes da hora.",5364:"Data de emissão do cartão inválida",5355:"O tipo de financiamento informado não é coerente com o número de parcelas"},ws:null,timeout:null,close:!0,timeoutConn:null};function A(){k.ws.close()}function O(){k.close=!1,clearTimeout(k.timeoutConn)}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;k.close=!0,k.timeoutConn=setTimeout(function(){k.close?k.ws.close():O()},t)}function q(t,a){return new S.a(function(e,n){try{null===k.ws?k.ws=new WebSocket(t):2!==k.ws.readyState&&3!==k.ws.readyState||(A(),k.ws=new WebSocket(t))}catch(r){n(r)}k.ws&&(V(),k.ws.onopen=function(){O(),k.ws.send(w()(a)),V(6e4)},k.ws.onmessage=function(t){O(),e(JSON.parse(t.data))},k.ws.onerror=function(t){O(),n(t)})})}var D=function(){function t(a){Object(T["a"])(this,t),this.__host=a.host||"ws://localhost:2500",this.debug=a.debug||!1,this.orderId=a.orderId||"",this.__amount=0,a.amount&&(this.amount=a.amount),this.__transactionDate=(new Date).toLocaleDateString("pt-BR",{year:"2-digit",month:"2-digit",day:"2-digit",timeZone:"America/Sao_Paulo"}).replace(/\//g,""),this.ctfTransaction={},this.__debugMessage=[]}return Object(y["a"])(t,[{key:"debugLog",value:function(t){this.debug&&E(t)}},{key:"classError",value:function(t){return this.debugMessage={message:t,logLevel:"error"},new Error(t)}},{key:"credit",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new S.a(function(n,r){var s={valorTransacao:t.amount,documento:t.orderId,operacao:k.transactions.credit.base,dataTransacao:t.__transactionDate};a>1&&(s.operacao=k.transactions.credit.installment,s.numeroParcelas=a),a>1&&e&&(s.operacao=k.transactions.credit.installmentWithInterest,s.numeroParcelas=a),t.debugMessage={message:"Pagamento com cartão de crédito. Operação: ".concat(s.operacao,". Valor ").concat(t.amount," centavos")},q(t.__host,s).then(function(a){if(a.retorno>0){var e=k.errorCodes[a.codigoErro]||a.display.length?a.display.map(function(t){return t.mensagem}).join(" "):" ",s=t.classError("Transação não concluída ".concat(a.codigoErro,": ").concat(e));r(s)}t.ctfTransaction=Object(c["a"])({},a,{dataTransacao:t.__transactionDate}),t.debugMessage={message:"Resposta do servidor -> ".concat(w()(a)),logLevel:"log"},t.debugMessage={message:t.ctfTransaction,logLevel:"json"},n(a)}).catch(function(a){return t.classError(a)})})}},{key:"debit",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new S.a(function(e,n){var r=a?k.transactions.debit.voucher:k.transactions.debit.base;t.debugMessage={message:"Pagamento com cartão de débito. Operação: ".concat(r,". Valor ").concat(t.amount," centavos")},q(t.__host,{valorTransacao:t.amount,documento:t.orderId,dataTransacao:t.__transactionDate,operacao:r}).then(function(a){if(a.retorno>0){var r=k.errorCodes[a.codigoErro]||a.display.length?a.display.map(function(t){return t.mensagem}).join(" "):" ",s=t.classError("Transação não concluída ".concat(a.codigoErro,": ").concat(r));n(s)}t.ctfTransaction=Object(c["a"])({},a,{dataTransacao:t.__transactionDate}),t.debugMessage={message:"Resposta do servidor -> ".concat(w()(a)),logLevel:"log"},t.debugMessage={message:t.ctfTransaction,logLevel:"json"},e(a)}).catch(function(a){return t.classError(a)})})}},{key:"confirm",value:function(){var t=this;return new S.a(function(a,e){var n=k.transactions.confirm;t.debugMessage={message:"Confirmação de pagamento da operação realizada.\n      Operação: ".concat(t.ctfTransaction.operacao,"\n      Data: ").concat(t.ctfTransaction.dataTransacao,"\n      Valor: ").concat(t.amount,"\n      Bandeira: ").concat(t.ctfTransaction.bandeira,"\n      Cartão: ").concat(t.ctfTransaction.cartao)},q(t.__host,{operacao:n}).then(function(n){if(n.retorno>0){var r=k.errorCodes[n.codigoErro]||n.display.length?n.display.map(function(t){return t.mensagem}).join(" "):" ",s=t.classError("Transação não concluída ".concat(n.codigoErro,": ").concat(r));e(s)}t.ctfTransaction=C()(t.ctfTransaction,n),t.debugMessage={message:"Resposta do servidor -> ".concat(w()(n)),logLevel:"log"},t.debugMessage={message:n,logLevel:"json"},a(n)}).catch(function(a){return t.classError(a)})})}},{key:"requestCancellation",value:function(){var t=this;return new S.a(function(a,e){var n=k.transactions.requestCancel;t.debugMessage={message:"Requisição de cancelamento de compra.\n      Operação: ".concat(t.ctfTransaction.operacao,"\n      Data: ").concat(t.ctfTransaction.dataTransacao,"\n      Valor: ").concat(t.amount,"\n      NSU: ").concat(t.ctfTransaction.nsuCTF)},q(t.__host,{operacao:n}).then(function(n){if(n.retorno>0){var r=k.errorCodes[n.codigoErro]||n.display.length?n.display.map(function(t){return t.mensagem}).join(" "):" ",s=t.classError("Transação não concluída ".concat(n.codigoErro,": ").concat(r));e(s)}t.debugMessage={message:"Resposta do servidor -> ".concat(w()(n)),logLevel:"log"},t.debugMessage={message:responsea,logLevel:"json"},a(n)}).catch(function(a){return t.classError(a)})})}},{key:"cancel",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new S.a(function(e,n){var r=k.transactions.cancel,s=a.operacao||t.ctfTransaction.operacao,o=a.dataTransacao||t.ctfTransaction.dataTransacao,i=a.amount?100*b()(a.amount):t.ctfTransaction.valorTransacao,c=a.nsuCTF||t.ctfTransaction.nsuCTF;t.debugMessage={message:"Cancelamento de compra.\n        Operação: ".concat(s,"\n        Data: ").concat(o,"\n        Valor: ").concat(i,"\n        NSU: ").concat(c)},q(t.__host,{operacao:r,valorTransacao:i,dataTransacao:o,nsuCTF:c}).then(function(a){if(a.retorno>0){var r=k.errorCodes[a.codigoErro]||a.display[0].mensagem,s=t.classError("Transação não concluída ".concat(a.codigoErro,": ").concat(r));n(s)}t.debugMessage={message:"Resposta do servidor -> ".concat(w()(a)),logLevel:"log"},t.debugMessage={message:a,logLevel:"json"},e(a)}).catch(function(a){return t.classError(a)})})}},{key:"debugMessage",get:function(){return this.__debugMessage},set:function(t){if(this.debug){var a=Object(c["a"])({logLevel:"info",message:""},t,{date:(new Date).toISOString()});if("log"===a.logLevel&&a.message)return this.debugLog(a.message);this.__debugMessage.push(Object(c["a"])({},a,{date:(new Date).toISOString()})),"info"===a.logLevel&&a.message&&this.debugLog(a.message)}}},{key:"amount",get:function(){return this.__amount},set:function(t){if("number"===typeof t&&t<=0)throw new Error("Não é possível definir um valor menor ou igual a zero.");this.__amount=100*b()(t)}}]),t}(),M=D,F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("auttar-form-text",{attrs:{maxlength:10,label:"Order ID",placeholder:"ID da ordem que vai ser enviado para a Auttar"},model:{value:t.orderId,callback:function(a){t.orderId=a},expression:"orderId"}}),e("auttar-form-number",{attrs:{label:"Valor",placeholder:"Valor que será processado"},model:{value:t.amount,callback:function(a){t.amount=t._n(a)},expression:"amount"}}),e("auttar-form-number",{attrs:{label:"Parcelas",placeholder:"Quantidade de parcelas"},model:{value:t.installment,callback:function(a){t.installment=t._n(a)},expression:"installment"}}),e("auttar-form-toggle",{attrs:{label:"Juros",placeholder:"Juros pela operadora"},model:{value:t.interest,callback:function(a){t.interest=a},expression:"interest"}}),e("auttar-action-buttons",{on:{start:t.start,cancel:t.cancel,finish:t.finish,reset:t.reset}})],1)])},L=[],P=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column has-text-centered"},[e("button",{staticClass:"button is-primary",staticStyle:{"margin-right":"20px"},on:{click:function(a){return t.$emit("start")}}},[t._v("\n      Iniciar\n    ")]),e("button",{staticClass:"button is-warning",staticStyle:{"margin-right":"20px"},on:{click:function(a){return t.$emit("reset")}}},[t._v("\n      Reiniciar\n    ")])]),e("div",{staticClass:"column has-text-centered"},[e("button",{staticClass:"button is-success",staticStyle:{"margin-right":"20px"},on:{click:function(a){return t.$emit("finish")}}},[t._v("\n      Confirmar\n    ")]),e("button",{staticClass:"button is-danger",on:{click:function(a){return t.$emit("cancel")}}},[t._v("\n      Cancelar\n    ")])])])},N=[],z={name:"AuttarActionButtons"},R=z,J=e("2877"),B=Object(J["a"])(R,P,N,!1,null,null,null),W=B.exports,U=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("b-field",{attrs:{label:t.label,message:t.placeholder,horizontal:""}},[e("b-input",{attrs:{value:t.value},on:{input:t.__changeValue}})],1)],1)])},H=[],G=(e("7b62"),{props:{value:{type:[String,Boolean,Array,Object],required:!1,default:""},maxlength:{type:[String,Number],required:!1,default:""},label:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:""}}}),Q={mixins:[G],props:{value:{type:Number,required:!1,default:0}},methods:{__changeValue:function(t){t||this.__emitValue(0),"number"!==typeof t&&"string"!==typeof t||isNaN(t)||this.__emitValue(b()(t))},__emitValue:function(t){this.$emit("input",t)}}},Y={name:"AuttarFormNumber",mixins:[Q]},Z=Y,K=Object(J["a"])(Z,U,H,!1,null,null,null),X=K.exports,tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("b-field",{attrs:{label:t.label,message:t.placeholder,horizontal:""}},[e("b-input",{attrs:{value:t.value,type:"text",maxlength:t.maxlength},on:{input:function(a){return t.$emit("input",a)}}})],1)],1)])},at=[],et={name:"AuttarFormText",mixins:[G]},nt=et,rt=Object(J["a"])(nt,tt,at,!1,null,null,null),st=rt.exports,ot=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"field is-horizontal"},[e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v(t._s(t.label))])]),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("b-switch",{attrs:{value:t.value},on:{input:function(a){return t.$emit("input",a)}}},[t._v("\n            "+t._s(t.placeholder)+"\n          ")])],1)])])])])},it=[],ct={mixins:[G],props:{value:Boolean}},lt={name:"AuttarFormToggle",mixins:[ct]},ut=lt,dt=Object(J["a"])(ut,ot,it,!1,null,null,null),mt=dt.exports,ft={name:"AuttarCredit",components:{AuttarActionButtons:W,AuttarFormText:st,AuttarFormToggle:mt,AuttarFormNumber:X},data:function(){return{orderId:"",amount:0,installment:1,interest:!1,started:!1}},methods:{start:function(){var t=this;return!!this.amount&&(this.$dialog.confirm({title:"Iniciar Transação",message:"Você está iniciando uma compra no cartão de crédito.<br /><br />\n                                <strong>Valor</strong> R$ ".concat(this.amount," ").concat(this.installment>1?"em ".concat(this.installment,"x"):"","<br />\n                                ").concat(this.interest?"<br /><strong>Juros</strong> pela operadora.":""),cancelText:"Cancelar",confirmText:"Iniciar",type:"is-success",onConfirm:function(){t.$toast.open("Cheque o TEF."),t.$emit("start",{type:"credit",amount:t.amount,orderId:t.orderId,installment:t.installment,interest:t.interest}),t.started=!0}}),!0)},finish:function(){var t=this;this.started&&this.$dialog.confirm({title:"Confirmar Transação",message:"Você tem certeza que deseja confirmar a transação?",confirmText:"Confirmar",type:"is-danger",hasIcon:!0,onConfirm:function(){t.reset(!1),t.$toast.open("Transação confirmada"),t.$emit("finish")}})},cancel:function(){var t=this;this.started&&this.$dialog.confirm({title:"Cancelar Transação",message:"Você tem certeza que deseja cancelar a transação?",confirmText:"Confirmar",type:"is-danger",hasIcon:!0,onConfirm:function(){t.$emit("cancel"),t.reset(),t.$toast.open("Transação cancelada")}})},reset:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.orderId="",this.amount=0,this.installment=1,this.interest=!1,this.started=!1,t&&this.$emit("reset")}}},ht=ft,gt=Object(J["a"])(ht,F,L,!1,null,null,null),vt=gt.exports,pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("auttar-form-text",{attrs:{maxlength:10,label:"Order ID",placeholder:"ID da ordem que vai ser enviado para a Auttar"},model:{value:t.orderId,callback:function(a){t.orderId=a},expression:"orderId"}}),e("auttar-form-number",{attrs:{label:"Valor",placeholder:"Valor que será processado"},model:{value:t.amount,callback:function(a){t.amount=t._n(a)},expression:"amount"}}),e("auttar-form-toggle",{attrs:{label:"Voucher",placeholder:"Utilizando um voucher para pagamento"},model:{value:t.voucher,callback:function(a){t.voucher=a},expression:"voucher"}}),e("auttar-action-buttons",{on:{start:t.start,cancel:t.cancel,finish:t.finish,reset:t.reset}})],1)])},bt=[],_t={name:"AuttarDebit",components:{AuttarActionButtons:W,AuttarFormText:st,AuttarFormToggle:mt,AuttarFormNumber:X},data:function(){return{orderId:"",amount:0,voucher:!1,started:!1}},methods:{start:function(){var t=this;return!!this.amount&&(this.$dialog.confirm({title:"Iniciar Transação",message:"Você está iniciando uma compra no cartão de débito.<br /><br />\n                                <strong>Valor</strong> R$ ".concat(this.amount,"<br />\n                                ").concat(this.voucher?"<br /><strong>Voucher</strong> send utilizado.":""),cancelText:"Cancelar",confirmText:"Iniciar",type:"is-success",onConfirm:function(){t.$toast.open("Cheque o TEF."),t.$emit("start",{type:"debit",orderId:t.orderId,amount:t.amount,voucher:t.voucher}),t.started=!0}}),!0)},finish:function(){var t=this;this.started&&this.$dialog.confirm({title:"Confirmar Transação",message:"Você tem certeza que deseja confirmar a transação?",confirmText:"Confirmar",type:"is-danger",hasIcon:!0,onConfirm:function(){t.reset(!1),t.$toast.open("Transação confirmada"),t.$emit("finish")}})},cancel:function(){var t=this;this.started&&this.$dialog.confirm({title:"Cancelar Transação",message:"Você tem certeza que deseja cancelar a transação?",confirmText:"Confirmar",type:"is-danger",hasIcon:!0,onConfirm:function(){t.$emit("cancel"),t.reset(),t.$toast.open("Transação cancelada")}})},reset:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.orderId="",this.amount=0,this.voucher=!1,this.started=!1,t&&this.$emit("reset")}}},Ct=_t,Tt=Object(J["a"])(Ct,pt,bt,!1,null,null,null),yt=Tt.exports,xt=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},wt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"content has-text-centered"},[e("p",[e("strong",[t._v("Auttar.js")]),t._v(" por Heitor Ramon.\n    ")]),e("p",[e("a",{attrs:{href:"https://heitorramon.com",target:"_blank"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-home"})])]),e("a",{attrs:{href:"http://github.com/bloodf/",target:"_blank"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fab fa-github"})])]),e("a",{attrs:{href:"https://linkedin.com/in/heitorramon/",target:"_blank"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fab fa-linkedin"})])])]),e("hr"),e("p",[e("a",{attrs:{href:"https://www.auttar.com.br"}},[t._v("Auttar")]),t._v(" é uma marca registrada da Getnet"),e("br"),t._v("\n      The source code is licensed\n      "),e("a",{attrs:{href:"http://opensource.org/licenses/mit-license.php"}},[t._v("MIT")]),t._v(". The website content\n      is licensed "),e("a",{attrs:{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"}},[t._v("CC BY NC SA\n        4.0")]),t._v(".\n    ")])])])}],It={name:"AuttarFooter"},St=It,jt=Object(J["a"])(St,xt,wt,!1,null,null,null),$t=jt.exports,Et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",t._l(t.messages,function(a,n){return e("article",{key:n,staticClass:"message",class:{"is-danger":"error"===a.logLevel,"is-info":"info"===a.logLevel,"is-dark":"json"===a.logLevel}},[e("div",{staticClass:"message-body"},[e("p",[e("strong",[t._v(t._s(a.date))])]),e("hr",{staticStyle:{margin:"5px 0"}}),"object"!==typeof a.message||Array.isArray(a.message)?e("p",[t._v("\n        "+t._s(a.message)+"\n      ")]):e("article",{staticClass:"message is-dark"},[t._m(0,!0),e("div",{staticClass:"message-body"},[e("vue-json-pretty",{attrs:{data:a.message,deep:1}})],1)])])])}),0)},kt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-header"},[e("p",[t._v("JSON")])])}],At=(e("53ca"),e("d538f")),Ot=e.n(At),Vt={name:"AuttarResult",components:{VueJsonPretty:Ot.a},props:{value:{type:Array,required:!1,default:function(){return[]}}},computed:{messages:function(){var t=this.value;return t.sort(function(t,a){return new Date(t.date).getTime()-new Date(a.date).getTime()}).reverse()}}},qt=Vt,Dt=Object(J["a"])(qt,Et,kt,!1,null,null,null),Mt=Dt.exports,Ft=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("auttar-form-text",{attrs:{value:t.value.host,label:"Host",placeholder:"Endereço do WebSocket"},on:{input:function(a){return t.updateSettings("host",a)}}}),e("auttar-form-toggle",{attrs:{value:t.value.debug,label:"Debug"},on:{input:function(a){return t.updateSettings("debug",a)}}})],1)])},Lt=[],Pt={name:"AuttarSettings",components:{AuttarFormToggle:mt,AuttarFormText:st},props:{value:{type:Object,required:!0}},data:function(){return{settings:{host:"ws://localhost:2500",debug:!0}}},methods:{updateSettings:function(t,a){this.settings[t]=a,this.$emit("input",this.settings)}}},Nt=Pt,zt=Object(J["a"])(Nt,Ft,Lt,!1,null,null,null),Rt=zt.exports,Jt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tabs"},[e("ul",[e("li",{class:"credit"===t.value?"is-active":""},[e("a",{on:{click:function(a){return t.changeTo("credit")}}},[t._v("Crédito")])]),e("li",{class:"debit"===t.value?"is-active":""},[e("a",{on:{click:function(a){return t.changeTo("debit")}}},[t._v("Débito")])]),e("li",{class:"transactions"===t.value?"is-active":""},[e("a",{on:{click:function(a){return t.changeTo("transactions")}}},[t._v("Transações")])]),e("li",{class:"settings"===t.value?"is-active":""},[e("a",{on:{click:function(a){return t.changeTo("settings")}}},[t._v("Configurações")])])])])},Bt=[],Wt={name:"AuttarTabs",props:{value:{type:String,required:!1,default:"credit"}},methods:{changeTo:function(t){this.$emit("input",t)}}},Ut=Wt,Ht=Object(J["a"])(Ut,Jt,Bt,!1,null,null,null),Gt=Ht.exports,Qt=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},Yt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"hero is-danger is-primary is-bold"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[t._v("\n        Auttar.JS\n      ")]),e("h2",{staticClass:"subtitle"},[t._v("\n        Um implementação simples do Serviço WebSocket da "),e("a",{attrs:{href:"https://www.auttar.com.br"}},[t._v("Auttar")]),t._v(" para TEF\n      ")])])])])}],Zt={name:"AuttarTitle"},Kt=Zt,Xt=Object(J["a"])(Kt,Qt,Yt,!1,null,null,null),ta=Xt.exports,aa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("table",{staticClass:"table",staticStyle:{width:"100%"}},[t._m(0),e("tbody",t._l(t.transactions,function(a,n){return e("tr",{key:a.orderId,staticClass:"has-text-white",class:{"has-background-danger":"error"===a.status,"has-background-warning":"cancel"===a.status,"has-background-success":"success"===a.status,"has-background-black-ter":"fail"===a.status}},[e("td",[t._v(t._s(n+1))]),e("td",[t._v(t._s(a.orderId))]),e("td",[t._v(t._s(a.type))]),e("td",[t._v(t._s(a.amount))]),e("td",[t._v(t._s(a.installment||1))]),e("td",[t._v(t._s(a.status))]),e("td",["success"===a.status||"start"===a.status?e("button",{staticClass:"button",staticStyle:{"margin-right":"5px"},on:{click:function(e){return t.$emit("request-cancel",a)}}},[t._m(1,!0)]):t._e()])])}),0),t._m(2)])])])},ea=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("#")]),e("th",[t._v("ID")]),e("th",[t._v("Tipo")]),e("th",[t._v("Valor")]),e("th",[t._v("Parcelas")]),e("th",[t._v("Status")]),e("th")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-ban"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tfoot",[e("tr",[e("th",[t._v("#")]),e("th",[t._v("ID")]),e("th",[t._v("Tipo")]),e("th",[t._v("Valor")]),e("th",[t._v("Parcelas")]),e("th",[t._v("Status")]),e("th")])])}],na={name:"AuttarTransactions",props:{transactions:{type:Array,required:!0},messages:{type:Array,required:!0}}},ra=na,sa=Object(J["a"])(ra,aa,ea,!1,null,null,null),oa=sa.exports,ia={name:"Auttar",components:{AuttarFooter:$t,AuttarSettings:Rt,AuttarTransactions:oa,AuttarDebit:yt,AuttarCredit:vt,AuttarTabs:Gt,AuttarResult:Mt,AuttarTitle:ta},data:function(){return{settings:{host:"ws://localhost:2500",debug:!0},selectedTab:"credit",auttar:null,transactions:[],ctfTransactions:[],messages:[]}},computed:{tabComponent:function(){return"debit"===this.selectedTab?yt:"transactions"===this.selectedTab?oa:"settings"===this.selectedTab?Rt:vt}},watch:{"auttar.ctfTransaction":{handler:function(t){"object"===Object(v["a"])(t)&&g()(t).length&&this.ctfTransactions.push(t)},immediate:!1,deep:!0},"auttar.debugMessage":{handler:function(t){f()(t)&&(this.messages=[].concat(Object(d["a"])(t),Object(d["a"])(this.messages)))},immediate:!1,deep:!0}},methods:{start:function(t){var a=this,e={orderId:t.orderId||u()(),amount:t.amount};this.auttar=new M(Object(c["a"])({},this.settings,e)),"credit"===t.type&&(this.transactions.push(Object(c["a"])({},t,e)),this.auttar.credit(t.installment,t.interest).then(function(){a.transactionStatus(a.auttar.orderId,"start",a.auttar.ctfTransaction)}).catch(function(){a.transactionStatus(a.auttar.orderId,"error")})),"debit"===t.type&&this.auttar.debit(t.voucher).then(function(){a.transactionStatus(a.auttar.orderId,"start",a.auttar.ctfTransaction)}).catch(function(){a.transactionStatus(a.auttar.orderId,"error")})},finish:function(){var t=this;this.auttar instanceof M&&this.auttar.confirm().then(function(){t.transactionStatus(t.auttar.orderId,"success")}).catch(function(){t.transactionStatus(t.auttar.orderId,"fail")})},cancel:function(){var t=this;this.auttar.requestCancellation().then(function(){t.requestCancel({extra:t.auttar.ctfTransaction})}).catch(function(){t.transactionStatus(t.auttar.orderId,"fail")})},requestCancel:function(t){var a=this;this.auttar.cancel({dataTransacao:t.extra.dataTransacao,amount:t.extra.valorTransacao,nsuCTF:t.extra.nsuCTF}).then(function(){a.transactionStatus(t.orderId,"cancel")}).catch(function(){a.transactionStatus(t.orderId,"fail")})},reset:function(){this.auttar=null},transactionStatus:function(t,a,e){var n=this.transactions.findIndex(function(a){return a.orderId===t});this.transactions[n].status=a,e&&(this.transactions[n].extra=e),"error"===a&&this.reset()}}},ca=ia,la=Object(J["a"])(ca,o,i,!1,null,null,null),ua=la.exports;e("5abe");n["default"].config.productionTip=!1,n["default"].use(s.a),new n["default"]({render:function(t){return t(ua)}}).$mount("#app")}});
//# sourceMappingURL=app.6e9322af.js.map